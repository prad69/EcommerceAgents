from datetime import datetime\nfrom typing import Optional, List, Dict, Any\nfrom pydantic import BaseModel, Field\n\n\nclass CategoryResponse(BaseModel):\n    id: str\n    name: str\n    description: Optional[str]\n    slug: str\n    image_url: Optional[str]\n    level: int\n    path: Optional[str]\n    \n    class Config:\n        from_attributes = True\n\n\nclass BrandResponse(BaseModel):\n    id: str\n    name: str\n    description: Optional[str]\n    logo_url: Optional[str]\n    website_url: Optional[str]\n    \n    class Config:\n        from_attributes = True\n\n\nclass ProductVariantResponse(BaseModel):\n    id: str\n    title: str\n    sku: str\n    attributes: Dict[str, Any]\n    price: float\n    stock_quantity: int\n    is_in_stock: bool\n    image_url: Optional[str]\n    \n    class Config:\n        from_attributes = True\n\n\nclass ProductResponse(BaseModel):\n    id: str\n    title: str\n    description: Optional[str]\n    short_description: Optional[str]\n    sku: str\n    price: float\n    original_price: Optional[float]\n    currency: str\n    stock_quantity: int\n    is_in_stock: bool\n    attributes: Optional[Dict[str, Any]]\n    features: Optional[List[str]]\n    tags: Optional[List[str]]\n    images: Optional[List[str]]\n    primary_image: Optional[str]\n    slug: str\n    average_rating: float\n    review_count: int\n    is_featured: bool\n    category: Optional[CategoryResponse]\n    brand: Optional[BrandResponse]\n    variants: Optional[List[ProductVariantResponse]] = []\n    created_at: datetime\n    \n    class Config:\n        from_attributes = True\n\n\nclass ProductCreate(BaseModel):\n    title: str = Field(..., min_length=1, max_length=200)\n    description: Optional[str] = None\n    short_description: Optional[str] = Field(None, max_length=500)\n    sku: str = Field(..., min_length=1, max_length=50)\n    price: float = Field(..., gt=0)\n    original_price: Optional[float] = Field(None, gt=0)\n    currency: str = Field(\"USD\", max_length=3)\n    stock_quantity: int = Field(0, ge=0)\n    category_id: Optional[str] = None\n    brand_id: Optional[str] = None\n    attributes: Optional[Dict[str, Any]] = Field(default_factory=dict)\n    specifications: Optional[Dict[str, Any]] = Field(default_factory=dict)\n    features: Optional[List[str]] = Field(default_factory=list)\n    tags: Optional[List[str]] = Field(default_factory=list)\n    images: Optional[List[str]] = Field(default_factory=list)\n    is_featured: bool = False\n    is_digital: bool = False\n\n\nclass ProductUpdate(BaseModel):\n    title: Optional[str] = None\n    description: Optional[str] = None\n    price: Optional[float] = Field(None, gt=0)\n    stock_quantity: Optional[int] = Field(None, ge=0)\n    attributes: Optional[Dict[str, Any]] = None\n    features: Optional[List[str]] = None\n    tags: Optional[List[str]] = None\n    images: Optional[List[str]] = None\n    is_featured: Optional[bool] = None\n\n\nclass ProductSearch(BaseModel):\n    query: str = Field(..., min_length=1, max_length=200)\n    filters: Optional[Dict[str, Any]] = Field(default_factory=dict)\n    limit: int = Field(10, ge=1, le=100)\n    offset: int = Field(0, ge=0)\n    sort_by: Optional[str] = Field(\"relevance\")  # relevance, price, rating, newest\n    sort_order: Optional[str] = Field(\"desc\")  # asc, desc