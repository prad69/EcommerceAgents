from datetime import datetime\nfrom typing import Optional, Dict, Any\nfrom pydantic import BaseModel, EmailStr, Field\n\n\nclass UserCreate(BaseModel):\n    email: EmailStr\n    username: str = Field(..., min_length=3, max_length=50)\n    password: str = Field(..., min_length=8)\n    full_name: Optional[str] = Field(None, max_length=100)\n    preferences: Optional[Dict[str, Any]] = Field(default_factory=dict)\n\n\nclass UserLogin(BaseModel):\n    email: EmailStr\n    password: str\n\n\nclass UserResponse(BaseModel):\n    id: str\n    email: str\n    username: str\n    full_name: Optional[str]\n    is_active: bool\n    preferences: Optional[Dict[str, Any]]\n    created_at: datetime\n    last_login: Optional[datetime]\n\n    class Config:\n        from_attributes = True\n\n\nclass UserUpdate(BaseModel):\n    full_name: Optional[str] = None\n    preferences: Optional[Dict[str, Any]] = None\n\n\nclass Token(BaseModel):\n    access_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\n\nclass TokenData(BaseModel):\n    user_id: Optional[str] = None